#!/bin/bash
#
# Version and build information for curl
#
# $Id$
#
######################################################################

######################################################################
#
# Version
#
######################################################################

CURL_BLDRVERSION=${CURL_BLDRVERSION:-"7.19.7"}

######################################################################
#
# Other values
#
######################################################################

if test -z "$CURL_BUILDS" && ! which curl-config 1>/dev/null 2>&1; then
  CURL_BUILDS=ser
fi
CURL_DEPS=
CURL_UMASK=002

######################################################################
#
# Add to path
#
######################################################################

addtopathvar PATH $CONTRIB_DIR/curl/bin

######################################################################
#
# Launch curl builds.
#
######################################################################

buildCurl() {
  if bilderUnpack curl; then
    if bilderConfig curl ser; then
      bilderBuild -m make curl ser
    fi
  fi
}

######################################################################
#
# Test curl
#
######################################################################

testCurl() {
  techo "Not testing curl."
}

######################################################################
#
# Install curl
#
######################################################################

installCurl() {
  if bilderInstall -m make curl ser; then
    (cd $CONTRIB_DIR/bin; ln -sf ../curl/bin/curl* .)
  fi
}

